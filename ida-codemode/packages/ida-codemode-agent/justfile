set shell := ["bash", "-eu", "-o", "pipefail", "-c"]

all: lint tests

ruff:
    uvx ruff check ida_codemode_agent tests

ty:
    PYTHONPATH=.:../ida-codemode-sandbox:../ida-codemode-api uvx ty check ida_codemode_agent tests

lint: ruff ty

tests:
    PYTHONPATH=.:../ida-codemode-sandbox:../ida-codemode-api python -m pytest tests -v

test: tests
